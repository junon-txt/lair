(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1957:function(e,t,a){Promise.resolve().then(a.bind(a,1946))},1946:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return n}});var s=a(7437),l=a(2265),r=a(3145);function i(e){let{deck:t,isNew:a=!1}=e,[r,i]=(0,l.useState)(!1),[d,n]=(0,l.useState)(!1),o=(0,l.useRef)(null);return(0,l.useEffect)(()=>{let e=()=>{var e;(null===(e=o.current)||void 0===e?void 0:e.complete)&&0!==o.current.naturalHeight&&n(!0)};e();let t=setTimeout(e,50);return()=>clearTimeout(t)},[]),(0,s.jsxs)("div",{className:"bg-white rounded-xl overflow-hidden shadow-md hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer",children:[(0,s.jsxs)("div",{className:"w-full aspect-square relative bg-gray-200 overflow-hidden",children:[a&&(0,s.jsx)("div",{className:"absolute top-2 right-2 bg-yellow-400 text-white text-xs font-bold px-2 py-1 rounded-md z-20",children:"NEW"}),r?(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200 text-gray-400",children:(0,s.jsxs)("div",{className:"text-center p-4",children:[(0,s.jsx)("div",{className:"text-4xl mb-2",children:"\uD83D\uDDBCï¸"}),(0,s.jsx)("div",{className:"text-xs",children:"Image not available"})]})}):(0,s.jsxs)(s.Fragment,{children:[!d&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200 z-10",children:(0,s.jsx)("div",{className:"text-gray-400 text-sm",children:"Loading..."})}),(0,s.jsx)("img",{ref:o,src:t.imageUrl,alt:t.name,className:"w-full h-full object-cover",onError:e=>{console.error("Image failed to load:",t.imageUrl,e),i(!0),n(!1)},onLoad:()=>{n(!0)},onLoadStart:()=>{},loading:"lazy"})]})]}),(0,s.jsxs)("div",{className:"p-4 text-center",children:[(0,s.jsx)("div",{className:"text-lg font-semibold text-gray-800 mb-1",children:t.name}),(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:["Updated: ",new Date(t.lastUpdated).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]})]})]})}var d=[];function n(){let e=d.map(e=>({name:e.name,cardId:e.cardId||"",imageUrl:e.imageUrl||e.imagePath||"",lastUpdated:e.lastUpdated,status:e.status||""})),[t,a]=(0,l.useState)("alphabetical"),[n,o]=(0,l.useState)(""),c=(0,l.useMemo)(()=>0===e.length?null:new Date(Math.max(...e.map(e=>new Date(e.lastUpdated).getTime()))).toISOString().split("T")[0],[e]),m=(0,l.useMemo)(()=>e.filter(e=>"FREE"!==e.status),[e]),g=(0,l.useMemo)(()=>{if(!c)return{free:[],banned:[]};let t=e.filter(e=>e.lastUpdated===c);return{free:t.filter(e=>"FREE"===e.status),banned:t.filter(e=>"BANNED"===e.status)}},[e,c]),x=(0,l.useMemo)(()=>{let e=m;if(n.trim()){let t=n.toLowerCase().trim();e=m.filter(e=>e.name.toLowerCase().includes(t))}let a=[...e];return"alphabetical"===t?a.sort((e,t)=>e.name.localeCompare(t.name)):"last-updated"===t&&a.sort((e,t)=>new Date(t.lastUpdated).getTime()-new Date(e.lastUpdated).getTime()),a},[m,t,n]);return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-indigo-500 via-purple-500 to-purple-600 p-5 md:p-8",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,s.jsxs)("header",{className:"flex items-center justify-center gap-4 mb-10 text-white",children:[(0,s.jsx)(r.default,{src:"/lair/magiclair_logo.webp",alt:"Magic Lair Logo",width:0,height:0,className:"h-[3.5rem] md:h-[4.5rem] w-auto",priority:!0}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-2 drop-shadow-lg",children:"Magic Lair"}),(0,s.jsx)("p",{className:"text-lg md:text-xl opacity-90",children:"HOTU banlist"})]})]}),(0,s.jsxs)("div",{className:"mb-8 bg-white rounded-lg p-4 shadow-lg flex flex-col sm:flex-row gap-4 items-end",children:[(0,s.jsxs)("div",{className:"flex-1 w-full",children:[(0,s.jsx)("label",{htmlFor:"search-input",className:"block font-semibold text-gray-800 mb-2",children:"Search decks:"}),(0,s.jsx)("input",{id:"search-input",type:"text",value:n,onChange:e=>o(e.target.value),placeholder:"Type to filter decks",className:"w-full px-4 py-2 border-2 border-indigo-500 rounded-lg text-gray-800 bg-white focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors","aria-label":"Search decks"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:[(0,s.jsx)("label",{htmlFor:"sort-select",className:"font-semibold text-gray-800 whitespace-nowrap",children:"Sort by:"}),(0,s.jsxs)("select",{id:"sort-select",value:t,onChange:e=>a(e.target.value),className:"px-4 py-2 border-2 border-indigo-500 rounded-lg text-gray-800 bg-white cursor-pointer hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors flex-1 sm:flex-initial","aria-label":"Sort decks",children:[(0,s.jsx)("option",{value:"alphabetical",children:"Alphabetical"}),(0,s.jsx)("option",{value:"last-updated",children:"Last Updated"})]})]})]}),0===x.length?(0,s.jsx)("div",{className:"text-center text-white py-20",children:(0,s.jsx)("div",{className:"text-xl",children:"No decks found"})}):(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 md:gap-6",children:x.map(e=>(0,s.jsx)(i,{deck:e,isNew:null!==c&&e.lastUpdated===c},e.name))}),(g.free.length>0||g.banned.length>0)&&(0,s.jsxs)("div",{className:"mt-12",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold text-white mb-6 text-center drop-shadow-lg",children:"Last Changes"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[g.free.length>0&&(0,s.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:[(0,s.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Now Free"}),(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.free.map(e=>(0,s.jsx)(i,{deck:e},e.name))})]}),g.banned.length>0&&(0,s.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:[(0,s.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Now Banned"}),(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.banned.map(e=>(0,s.jsx)(i,{deck:e},e.name))})]})]})]})]})})}}},function(e){e.O(0,[145,971,117,744],function(){return e(e.s=1957)}),_N_E=e.O()}]);